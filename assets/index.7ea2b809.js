var Y=Object.defineProperty,X=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var N=(e,t,o)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,T=(e,t)=>{for(var o in t||(t={}))Q.call(t,o)&&N(e,o,t[o]);if(M)for(var o of M(t))Z.call(t,o)&&N(e,o,t[o]);return e},A=(e,t)=>X(e,J(t));import{r as p,o as f,c as P,a as i,d as b,u as $,b as I,e as x,f as D,w as S,K as ee,g as te,T as oe,h as q,i as re,j as se,F,k,C as V,l as ne,m as ae,n as ie,p as ue,q as le,_ as d,s as ce,N as h,t as C,v as pe,x as de}from"./vendor.ce3c2b68.js";const me=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}};me();var _=(e,t)=>{for(const[o,r]of t)e[o]=r;return e};const fe={name:"App"},he={id:"app"};function ge(e,t,o,r,s,n){const u=p("router-view");return f(),P("div",he,[i(u)])}var _e=_(fe,[["render",ge]]);const ve="modulepreload",j={},ye="/pages/",L=function(t,o){return!o||o.length===0?t():Promise.all(o.map(r=>{if(r=`${ye}${r}`,r in j)return;j[r]=!0;const s=r.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":ve,s||(u.as="script",u.crossOrigin=""),u.href=r,document.head.appendChild(u),s)return new Promise((l,a)=>{u.addEventListener("load",l),u.addEventListener("error",a)})})).then(()=>t())},be=b({setup(){let e=$(),t=I(),o=x(()=>e.state.user.tags.map(s=>s.name));return{key:x(()=>t.path),caches:o}}});function xe(e,t,o,r,s,n){const u=p("router-view",!0);return f(),D(u,null,{default:S(({Component:l})=>[i(oe,{name:"fadeRouter",mode:"out-in"},{default:S(()=>[(f(),D(ee,{include:e.caches},[(f(),D(te(l)))],1032,["include"]))]),_:2},1024)]),_:1})}var Ee=_(be,[["render",xe]]);const we=b({props:{collapse:{type:Boolean,default:!0}},setup(){console.log(11111);let e=$(),t=I(),o=q(),r=e.state.user.tags,s=x(()=>{let a=r.filter(c=>c.name==t.name).length>0;return n(t,a),t.name});function n(a,c){let y=a.matched[a.matched.length-1],U={path:y.path,name:y.name,meta:y.meta,query:a.query,params:a.params};!c&&a.name!=="redirect"&&a.name!=="404"&&(console.log(U),e.commit("tagsCommit",{to:U}))}function u(a){r[a].name===s.value?(o.push({name:r[a-1].name,params:r[a-1].params,query:r[a-1].query}),setTimeout(()=>{e.dispatch("tagsActions",{removeIndex:a})},50)):e.dispatch("tagsActions",{removeIndex:a})}function l(a){if(a.name===s.value){console.log(t),o.replace({name:"redirect",params:A(T({},a.params),{__name:a.name}),query:a.query});return}else o.push({name:a.name,params:T({},a.params),query:a.query})}return{tags:r,remove:u,currentName:s,navTo:l}}}),Te={class:"tags"};function Ie(e,t,o,r,s,n){return f(),P("div",Te)}var De=_(we,[["render",Ie],["__scopeId","data-v-7b24e634"]]),Fe="/pages/assets/logo.685caf29.png";let Be={primary:"#3381FF",success:"#67c23a",info:"#909399",warning:"#e6a23c",danger:"#f56c6c"};var E={name:"\u84DD\u9CB8\u6E38",themeColor:Be,iconfont:"iconfont",cardShadow:"hover",logo:Fe},Ae=b({props:{navProps:{type:Object,default:()=>({immersed:!0})}},setup(e){const t=I(),o=q(),r=$(),s=re(r.state.user.userInfo.icon);let n;se(()=>{n=e.navProps});let u=[{title:"\u7F51\u7AD9\u9996\u9875",path:"/home"},{title:"\u7406\u79D1\u8D44\u6599",path:"/contrail-home"},{title:"\u8BD5\u5377\u5206\u6790",path:"/paper-analyse"},{title:"\u5728\u7EBF\u6D4B\u8BC4",path:"/online-test"},{title:"\u5728\u7EBF\u89C6\u9891",path:"/online-video"},{title:"\u4E2A\u4EBA\u4E2D\u5FC3",path:"/personal-center"}];const l=x(()=>{console.log(t.matched);const c=t.matched[0].children[0].path;return c===u[u.length-1].path&&(V.get("contrailWebToken")||o.replace({path:"/login"})),c}),a=()=>{r.dispatch("outLoing"),s.value=""};return console.log(E.logo),()=>i(F,null,[i("div",{class:"nav",style:{boxShadow:n.isBoxShow?"0rem 0rem 2rem rgba(131, 131, 131, 0.1)":"",position:n.notImmersed?"sticky":"absolute"}},[i(p("el-image"),{style:"width: 11.69rem",fit:"cover",src:E.logo[n.isLogoWhite?"logoWhite":"logo"]},null),i("div",{class:"nav-right"},[u.filter((c,y)=>n.notWebHome?y!=0:!0).map(c=>i(F,null,[i(p("router-link"),{style:{color:l.value==c.path?n.color:n.color||"#333",borderColor:l.value==c.path?n.color:""},class:["nav-title",{active:l.value==c.path}],to:{path:c.path}},{default:()=>[c.title]})])),i("div",{class:"nav-search"},null),n.notLogin?i("div",null,null):r.state.user.userInfo.id?i(F,null,[i(p("el-image"),{class:"login-text nav-login",src:s.value,style:"width:3rem;height:3rem;border-radius: 50%"},null),i("div",{class:"login-text",style:{color:n.color||"",marginLeft:"10px"},onClick:()=>{a()}},[k("\u767B\u51FA")])]):i("div",{class:"login-text nav-login",style:{color:n.color||""},onClick:()=>{o.push({path:"/login"})}},[i("i",{class:"el-icon-user-solid",style:"margin-right: 10px;font-size:1.5rem"},null),k("\u767B\u5F55")])])])])}});var Pe=_(Ae,[["__scopeId","data-v-0a429cf0"]]),$e=b({setup(e){const t=g.options.routes.filter(r=>r.isFoot).map(r=>(r.children=r.children.filter(s=>s.isFoot),r));t.push({title:"\u8054\u7CFB\u6211\u4EEC",children:[{title:"\u7535\u8BDD\uFF1A12345678922"},{title:"\u90AE\u7BB1\uFF1A12345678922"},{title:"\u5730\u5740\uFF1A\u56DB\u5DDD\u7701\u6210\u90FD\u5E02\u91D1\u725B\u533A\u8700\u6C49\u8DEF426\u53F7"}]});const o=r=>{let s=r.path,n={type:r.navType};!r.path||g.push({path:s,query:n})};return()=>i(F,null,[i("div",{class:"foot"},[i("div",{class:"foot-top"},[i("div",null,[t.map(r=>i("div",{class:"foot-item",onClick:()=>{o(r)}},[i("a",{class:"foot-title cursor"},[r.title||r.meta.title]),r.children.map(s=>i("p",{class:"foot-label cursor",onClick:n=>{n.stopPropagation(o(s))}},[s.title||s.meta.title]))])),i("div",{class:"foot-item"},[i(p("el-image"),{style:"width:9.6rem;height:9.6rem;background:#fff",class:"foot-title"},null),i("p",{class:"foot-label"},[k("\u626B\u7801\u5173\u6CE8\u7406\u79D1\u516C\u4F17\u53F7")])])])]),i("div",{class:"foot-bottom"},[i(p("el-image"),{src:E.logo.logoWhite,style:"width:10.5rem;margin-right:20px"},null)])])])}});var ke=_($e,[["__scopeId","data-v-4b86e7ca"]]);const Ve=b({components:{TagsView:De,routerView:Ee,navBar:Pe,foot:ke},setup(){const e=I();return{navProps:x(()=>e.meta.navProps||{})}}}),Ce={class:"content"},Le={class:"view"};function Re(e,t,o,r,s,n){const u=p("nav-bar"),l=p("router-view"),a=p("foot");return f(),P("div",Ce,[e.navProps.isNavBar?ne("",!0):(f(),D(u,{key:0,navProps:e.navProps},null,8,["navProps"])),ae("div",Le,[i(l)]),i(a)])}var Oe=_(Ve,[["render",Re],["__scopeId","data-v-c7824f5e"]]);const Ue=[{path:"/",name:"login",meta:{title:"\u767B\u5F55",icon:"about"},hidden:!0,component:()=>L(()=>import("./index.bc2abb03.js"),["assets/index.bc2abb03.js","assets/vendor.ce3c2b68.js"])},{path:"/home",component:Oe,redirect:"/home",meta:{title:"\u9996\u9875",navProps:{color:"#fff"}},children:[{path:"/home",name:"home",component:()=>L(()=>import("./index.aa0319b1.js"),["assets/index.aa0319b1.js","assets/vendor.ce3c2b68.js"]),meta:{title:"\u9996\u9875",navProps:{color:"#fff",isLogoWhite:!0}}}]},{path:"/redirect",name:"redirect",hidden:!0,component:()=>L(()=>import("./redirect.5ef3a8b2.js"),["assets/redirect.5ef3a8b2.js","assets/vendor.ce3c2b68.js"])}],Me=ie({history:ue(),routes:Ue});var g=Me;const Ne={getToken:e=>e.user.contrailWebToken,getUserInfo:e=>e.user.userInfo&&e.user.userInfo.id,getThemeColor:e=>E.themeColor.primary},H={VITE_BASE_URL:"http://192.168.111.1:3001/",VITE_TIMEOUT:"10000",VITE_OUTPUT_DIR:"dist",BASE_URL:"/pages/",MODE:"production",DEV:!1,PROD:!0},v=le.create({baseURL:H.VITE_BASE_URL,timeout:H.VITE_TIMEOUT});v.defaults.headers["content-type"]="application/json";v.interceptors.request.use(e=>(m.getters.getToken&&(e.headers.Authorization=m.getters.getToken),e),function(e){return Promise.reject(e)});v.interceptors.response.use(e=>{let t;switch(t=e.data.code||e.status,t){case"502":case 502:return d({message:e.data.message,type:"warning"}),Promise.reject(e);case"401":case"A0230":case 401:return d({message:e.data.message||"\u767B\u5F55\u8FC7\u671F\uFF01",type:"warning"}),m.dispatch("outLoing").then(o=>{g.replace("/login")}),Promise.reject(e);case"200":case 200:return e.headers["content-type"]&&e.headers["content-type"].indexOf("application/json")!=-1?e.data:e;default:return d({message:e.data.message,type:"error"}),Promise.reject(e)}},e=>{try{switch(e.response.status){case 500:d({message:"\u670D\u52A1\u5668\u6253\u778C\u7761\u4E86\uFF01",type:"error"});break;case 503:d({message:"\u540E\u53F0\u670D\u52A1\u91CD\u542F\u4E2D\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01",type:"error"});break;case 400:d({message:"\u53C2\u6570\u9519\u8BEF\uFF01",type:"error"});break;case 404:d({message:"\u627E\u4E0D\u5230\u63A5\u53E3\uFF01",type:"error"});break;default:d({message:e.response.data.message,type:"error"});break}}catch{d({message:"\u8FDE\u63A5\u8D85\u65F6\uFF0C\u8BF7\u91CD\u8BD5\uFF01",type:"error"})}return Promise.reject(e)});const W={VITE_BASE_URL:"http://192.168.111.1:3001/",VITE_TIMEOUT:"10000",VITE_OUTPUT_DIR:"dist",BASE_URL:"/pages/",MODE:"production",DEV:!1,PROD:!0};function rt(){return v({url:"login/image",baseURL:W.VITE_MOCK_BASE_URL})}function Se(e){return v({url:"dologin",method:"post",baseURL:W.VITE_BASE_URL_AUTH,params:e})}function qe(){return v({url:"api/sso/info"})}const B={contrailWebToken:V.get("contrailWebToken"),userInfo:{},tags:[{path:"/",name:"home"}]},je={loginAction(e,t){return new Promise(o=>{Se(t).then(r=>{r&&(console.log("res",r),o(r))})})},userInfo(e,t){return new Promise(o=>{qe().then(r=>{o(r.data)})})},outLoing(e){B.contrailWebToken="",B.userInfo={},V.remove("contrailWebToken"),console.log(B)}},He={};var We={state:B,actions:je,mutations:He},m=ce({modules:{user:We},getters:Ne});h.configure({showSpinner:!1});g.beforeEach((e,t,o)=>{h.start(),window.location.host==="peng-xiao-shuai.github.io"&&!0&&e.path==="/vite-vue-admin/"&&(o("/"),h.done()),m.getters.getToken?m.state.user.userInfo.id?(o(),h.done()):m.dispatch("userInfo").then(r=>{o(A(T({},e),{replace:!0})),h.done()}):(o(),h.done())});g.afterEach(()=>{h.done()});let R,G=!0;const Ge=(e,t,o,r)=>{const s=o||[];r&&G&&(G=!1,e(...s)),R&&clearTimeout(R),R=setTimeout(()=>{e(...s)},t||300)};let O=!0,z=!0;const ze=(e,t,o,r)=>{const s=o||[];if(r&&z)return z=!1,e(...s);O&&(O=!1,setTimeout(()=>(O=!0,e(...s)),t||300))};const Ke=["https://images.unsplash.com/photo-1445019980597-93fa8acb246c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1474&q=80","https://images.unsplash.com/photo-1529551739587-e242c564f727?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1632&q=80","https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80","https://images.unsplash.com/photo-1551918120-9739cb430c6d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80","https://images.unsplash.com/photo-1578681041175-9717c16b0d66?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1460&q=80"];var Ye=[{url:"login/image",response:{data:C.exports.mock({"url|1":Ke,author:"peng-xiao-shuai",title:"@ctitle(2,7)"}),code:200}}],Xe=[{url:"log/ajax",type:"get",response:()=>({code:500,message:"\u89E6\u53D1\u62A5\u9519\uFF01"})},{url:"log/list",type:"get",response:e=>{let t=Number(e.query.pageSize),o=Number(e.query.pageNum);return{code:200,data:C.exports.mock({"list|2":[{error:"1",info:"1",url:"1",name:"1",type:"Info"}],pageNum:o,pageSize:t,totalpageNum:1,total:2})}}}],Je=[...Ye,...Xe];function Qe(e){const t=decodeURIComponent(e.split("?")[1]).replace(/\+/g," ");if(!t)return{};const o={};return t.split("&").forEach(s=>{const n=s.indexOf("=");if(n!==-1){const u=s.substring(0,n),l=s.substring(n+1,s.length);o[u]=l.length?isNaN(Number(l))?l:Number(l):l}}),o}const Ze={VITE_BASE_URL:"http://192.168.111.1:3001/",VITE_TIMEOUT:"10000",VITE_OUTPUT_DIR:"dist",BASE_URL:"/pages/",MODE:"production",DEV:!1,PROD:!0};function et(){function e(o){return function(r){let s=null;if(o instanceof Function){let{body:n,type:u,url:l}=r;s=o({body:typeof n=="string"?JSON.parse(n):n,method:u,query:Qe(l)})}else s=o;return s}}let t;for(t of Je)C.exports.mock(new RegExp(Ze.VITE_MOCK_BASE_URL+t.url),t.type||"get",e(t.response))}et();window.console.log=()=>{};const K=()=>{const e=window.innerWidth;document.getElementsByTagName("html")[0].style.fontSize=e/1920*16+"px"};K();window.onresize=K;let w=pe(_e);w.mixin({methods:{navTo(e,t){g.push({path:e,query:t})}},computed:{themeColor(){return m.getters.getThemeColor}}});w.use(g).use(m).use(de).mount("#app");w.config.globalProperties.$defaultData=E;w.config.globalProperties.$debounce=Ge;w.config.globalProperties.$throttle=ze;export{_,rt as g};
