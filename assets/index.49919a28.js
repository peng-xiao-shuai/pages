var Y=Object.defineProperty,J=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var S=(e,t,o)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,w=(e,t)=>{for(var o in t||(t={}))Q.call(t,o)&&S(e,o,t[o]);if(M)for(var o of M(t))Z.call(t,o)&&S(e,o,t[o]);return e},D=(e,t)=>J(e,X(t));import{r as d,o as _,c as V,a,d as y,u as C,b as I,e as E,f as F,w as N,K as ee,g as te,T as oe,h as q,i as re,j as se,F as A,k as L,C as R,l as ne,m as ae,n as ie,p as ue,_ as p,q as ce,N as f,s as $,t as le,v as pe}from"./vendor.5f3cc7cb.js";const de=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}};de();var g=(e,t)=>{for(const[o,r]of t)e[o]=r;return e};const me={name:"App"},fe={id:"app"};function he(e,t,o,r,s,n){const i=d("router-view");return _(),V("div",fe,[a(i)])}var _e=g(me,[["render",he]]);const ge="modulepreload",H={},ve="/pages/",O=function(t,o){return!o||o.length===0?t():Promise.all(o.map(r=>{if(r=`${ve}${r}`,r in H)return;H[r]=!0;const s=r.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const i=document.createElement("link");if(i.rel=s?"stylesheet":ge,s||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),s)return new Promise((c,u)=>{i.addEventListener("load",c),i.addEventListener("error",u)})})).then(()=>t())},ye=y({setup(){let e=C(),t=I(),o=E(()=>e.state.user.tags.map(s=>s.name));return{key:E(()=>t.path),caches:o}}});function Ee(e,t,o,r,s,n){const i=d("router-view",!0);return _(),F(i,null,{default:N(({Component:c})=>[a(oe,{name:"fadeRouter",mode:"out-in"},{default:N(()=>[(_(),F(ee,{include:e.caches},[(_(),F(te(c)))],1032,["include"]))]),_:2},1024)]),_:1})}var be=g(ye,[["render",Ee]]);const Te=y({props:{collapse:{type:Boolean,default:!0}},setup(){console.log(11111);let e=C(),t=I(),o=q(),r=e.state.user.tags,s=E(()=>{let u=r.filter(l=>l.name==t.name).length>0;return n(t,u),t.name});function n(u,l){let v=u.matched[u.matched.length-1],P={path:v.path,name:v.name,meta:v.meta,query:u.query,params:u.params};!l&&u.name!=="redirect"&&u.name!=="404"&&(console.log(P),e.commit("tagsCommit",{to:P}))}function i(u){r[u].name===s.value?(o.push({name:r[u-1].name,params:r[u-1].params,query:r[u-1].query}),setTimeout(()=>{e.dispatch("tagsActions",{removeIndex:u})},50)):e.dispatch("tagsActions",{removeIndex:u})}function c(u){if(u.name===s.value){console.log(t),o.replace({name:"redirect",params:D(w({},u.params),{__name:u.name}),query:u.query});return}else o.push({name:u.name,params:w({},u.params),query:u.query})}return{tags:r,remove:i,currentName:s,navTo:c}}}),xe={class:"tags"};function we(e,t,o,r,s,n){return _(),V("div",xe)}var Ie=g(Te,[["render",we],["__scopeId","data-v-7b24e634"]]),Ae="/pages/assets/logo.685caf29.png";let Be={primary:"#3381FF",success:"#67c23a",info:"#909399",warning:"#e6a23c",danger:"#f56c6c"};var b={name:"\u84DD\u9CB8\u6E38",themeColor:Be,iconfont:"iconfont",cardShadow:"hover",logo:Ae},De=y({props:{navProps:{type:Object,default:()=>({immersed:!0})}},setup(e){const t=I(),o=q(),r=C(),s=re(r.state.user.userInfo.icon);let n;se(()=>{n=e.navProps});let i=[{title:"\u7F51\u7AD9\u9996\u9875",path:"/home"},{title:"\u7406\u79D1\u8D44\u6599",path:"/contrail-home"},{title:"\u8BD5\u5377\u5206\u6790",path:"/paper-analyse"},{title:"\u5728\u7EBF\u6D4B\u8BC4",path:"/online-test"},{title:"\u5728\u7EBF\u89C6\u9891",path:"/online-video"},{title:"\u4E2A\u4EBA\u4E2D\u5FC3",path:"/personal-center"}];const c=E(()=>{console.log(t.matched);const l=t.matched[0].children[0].path;return l===i[i.length-1].path&&(R.get("contrailWebToken")||o.replace({path:"/login"})),l}),u=()=>{r.dispatch("outLoing"),s.value=""};return console.log(b.logo),()=>a(A,null,[a("div",{class:"nav",style:{boxShadow:n.isBoxShow?"0rem 0rem 2rem rgba(131, 131, 131, 0.1)":"",position:n.notImmersed?"sticky":"absolute"}},[a(d("el-image"),{style:"width: 11.69rem",fit:"cover",src:b.logo[n.isLogoWhite?"logoWhite":"logo"]},null),a("div",{class:"nav-right"},[i.filter((l,v)=>n.notWebHome?v!=0:!0).map(l=>a(A,null,[a(d("router-link"),{style:{color:c.value==l.path?n.color:n.color||"#333",borderColor:c.value==l.path?n.color:""},class:["nav-title",{active:c.value==l.path}],to:{path:l.path}},{default:()=>[l.title]})])),a("div",{class:"nav-search"},null),n.notLogin?a("div",null,null):r.state.user.userInfo.id?a(A,null,[a(d("el-image"),{class:"login-text nav-login",src:s.value,style:"width:3rem;height:3rem;border-radius: 50%"},null),a("div",{class:"login-text",style:{color:n.color||"",marginLeft:"10px"},onClick:()=>{u()}},[L("\u767B\u51FA")])]):a("div",{class:"login-text nav-login",style:{color:n.color||""},onClick:()=>{o.push({path:"/login"})}},[a("i",{class:"el-icon-user-solid",style:"margin-right: 10px;font-size:1.5rem"},null),L("\u767B\u5F55")])])])])}});var Ve=g(De,[["__scopeId","data-v-0a429cf0"]]),Ce=y({setup(e){const t=h.options.routes.filter(r=>r.isFoot).map(r=>(r.children=r.children.filter(s=>s.isFoot),r));t.push({title:"\u8054\u7CFB\u6211\u4EEC",children:[{title:"\u7535\u8BDD\uFF1A12345678922"},{title:"\u90AE\u7BB1\uFF1A12345678922"},{title:"\u5730\u5740\uFF1A\u56DB\u5DDD\u7701\u6210\u90FD\u5E02\u91D1\u725B\u533A\u8700\u6C49\u8DEF426\u53F7"}]});const o=r=>{let s=r.path,n={type:r.navType};!r.path||h.push({path:s,query:n})};return()=>a(A,null,[a("div",{class:"foot"},[a("div",{class:"foot-top"},[a("div",null,[t.map(r=>a("div",{class:"foot-item",onClick:()=>{o(r)}},[a("a",{class:"foot-title cursor"},[r.title||r.meta.title]),r.children.map(s=>a("p",{class:"foot-label cursor",onClick:n=>{n.stopPropagation(o(s))}},[s.title||s.meta.title]))])),a("div",{class:"foot-item"},[a(d("el-image"),{style:"width:9.6rem;height:9.6rem;background:#fff",class:"foot-title"},null),a("p",{class:"foot-label"},[L("\u626B\u7801\u5173\u6CE8\u7406\u79D1\u516C\u4F17\u53F7")])])])]),a("div",{class:"foot-bottom"},[a(d("el-image"),{src:b.logo.logoWhite,style:"width:10.5rem;margin-right:20px"},null)])])])}});var Fe=g(Ce,[["__scopeId","data-v-4b86e7ca"]]);const Le=y({components:{TagsView:Ie,routerView:be,navBar:Ve,foot:Fe},setup(){const e=I();return{navProps:E(()=>e.meta.navProps||{})}}}),Re={class:"content"},$e={class:"view"};function Oe(e,t,o,r,s,n){const i=d("router-view");return _(),V("div",Re,[ne("div",$e,[a(i)])])}var ke=g(Le,[["render",Oe],["__scopeId","data-v-4ce9ed79"]]);const Ue=[{path:"/",name:"login",meta:{title:"\u767B\u5F55",icon:"about"},hidden:!0,component:()=>O(()=>import("./index.ea54102e.js"),["assets/index.ea54102e.js","assets/vendor.5f3cc7cb.js"])},{path:"/home",component:ke,redirect:"/home",meta:{title:"\u9996\u9875",navProps:{color:"#fff"}},children:[{path:"/home",name:"home",component:()=>O(()=>import("./index.c39fd58a.js"),["assets/index.c39fd58a.js","assets/vendor.5f3cc7cb.js"]),meta:{title:"\u9996\u9875",navProps:{color:"#fff",isLogoWhite:!0}}}]},{path:"/redirect",name:"redirect",hidden:!0,component:()=>O(()=>import("./redirect.166ee705.js"),["assets/redirect.166ee705.js","assets/vendor.5f3cc7cb.js"])}],Pe=ae({history:ie(),routes:Ue});var h=Pe;const Me={getToken:e=>e.user.contrailWebToken,getUserInfo:e=>e.user.userInfo&&e.user.userInfo.id,getThemeColor:e=>b.themeColor.primary},W={VITE_MOCK:"true",VITE_MOCK_BASE_URL:"http://localhost:3001/",VITE_BASE_URL:"https://c56814e8d4d1-service.simplelab.cn/api",VITE_BASE_URL_AUTH:"https://c56814e8d4d1-service.simplelab.cn/auth/api/",VITE_TIMEOUT:"10000",VITE_OUTPUT_DIR:"dist",BASE_URL:"/pages/",MODE:"production",DEV:!1,PROD:!0},T=ue.create({baseURL:W.VITE_BASE_URL,timeout:W.VITE_TIMEOUT});T.interceptors.request.use(e=>(m.getters.getToken&&(e.headers.Authorization=m.getters.getToken),e),function(e){return Promise.reject(e)});T.interceptors.response.use(e=>{let t,o;{console.log(e.config.url,e);const r=JSON.parse(e.request.response);t=r.success?r.errorCode||e.status:502,o=r.message||r.msg}switch(t){case"502":case 502:return p({message:o,type:"warning"}),Promise.reject(e);case"401":case"A0230":case 401:return p({message:o||"\u767B\u5F55\u8FC7\u671F\uFF01",type:"warning"}),m.dispatch("outLoing").then(r=>{h.replace("/login")}),Promise.reject(e);case"200":case 200:case"0":return e.data;default:return p({message:o,type:"error"}),Promise.reject(e)}},e=>{try{switch(e.response.status){case 500:p({message:"\u670D\u52A1\u5668\u6253\u778C\u7761\u4E86\uFF01",type:"error"});break;case 503:p({message:"\u540E\u53F0\u670D\u52A1\u91CD\u542F\u4E2D\uFF0C\u8BF7\u7A0D\u540E\u518D\u8BD5\uFF01",type:"error"});break;case 400:p({message:"\u53C2\u6570\u9519\u8BEF\uFF01",type:"error"});break;case 404:p({message:"\u627E\u4E0D\u5230\u63A5\u53E3\uFF01",type:"error"});break;default:p({message:e.response.data.message,type:"error"});break}}catch{p({message:"\u8FDE\u63A5\u8D85\u65F6\uFF0C\u8BF7\u91CD\u8BD5\uFF01",type:"error"})}return Promise.reject(e)});const j={VITE_MOCK:"true",VITE_MOCK_BASE_URL:"http://localhost:3001/",VITE_BASE_URL:"https://c56814e8d4d1-service.simplelab.cn/api",VITE_BASE_URL_AUTH:"https://c56814e8d4d1-service.simplelab.cn/auth/api/",VITE_TIMEOUT:"10000",VITE_OUTPUT_DIR:"dist",BASE_URL:"/pages/",MODE:"production",DEV:!1,PROD:!0};function ot(){return T({url:"login/image",baseURL:j.VITE_MOCK_BASE_URL})}function Se(e){return T({url:"dologin",method:"post",baseURL:j.VITE_BASE_URL_AUTH,params:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function Ne(){return T({url:"api/sso/info"})}const B={contrailWebToken:R.get("contrailWebToken"),userInfo:{},tags:[{path:"/",name:"home"}]},qe={loginAction(e,t){return new Promise(o=>{Se(t).then(r=>{r&&(console.log("res",r),o(r))})})},userInfo(e,t){return new Promise(o=>{Ne().then(r=>{o(r.data)})})},outLoing(e){B.contrailWebToken="",B.userInfo={},R.remove("contrailWebToken"),console.log(B)}},He={};var We={state:B,actions:qe,mutations:He},m=ce({modules:{user:We},getters:Me});f.configure({showSpinner:!1});h.beforeEach((e,t,o)=>{f.start(),window.location.host==="peng-xiao-shuai.github.io"&&e.path==="/pages/"&&(o("/"),f.done()),m.getters.getToken?m.state.user.userInfo.id?(o(),f.done()):m.dispatch("userInfo").then(r=>{o(D(w({},e),{replace:!0})),f.done()}):(o(),f.done())});h.afterEach(()=>{f.done()});let k,K=!0;const je=(e,t,o,r)=>{const s=o||[];r&&K&&(K=!1,e(...s)),k&&clearTimeout(k),k=setTimeout(()=>{e(...s)},t||300)};let U=!0,G=!0;const Ke=(e,t,o,r)=>{const s=o||[];if(r&&G)return G=!1,e(...s);U&&(U=!1,setTimeout(()=>(U=!0,e(...s)),t||300))};const Ge=["https://images.unsplash.com/photo-1445019980597-93fa8acb246c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1474&q=80","https://images.unsplash.com/photo-1529551739587-e242c564f727?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1632&q=80","https://images.unsplash.com/photo-1571896349842-33c89424de2d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80","https://images.unsplash.com/photo-1551918120-9739cb430c6d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80","https://images.unsplash.com/photo-1578681041175-9717c16b0d66?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1460&q=80"];var ze=[{url:"login/image",response:{data:$.exports.mock({"url|1":Ge,author:"peng-xiao-shuai",title:"@ctitle(2,7)"}),success:"true",errorCode:200}}],Ye=[{url:"log/ajax",type:"get",response:()=>({code:500,message:"\u89E6\u53D1\u62A5\u9519\uFF01"})},{url:"log/list",type:"get",response:e=>{let t=Number(e.query.pageSize),o=Number(e.query.pageNum);return{code:200,data:$.exports.mock({"list|2":[{error:"1",info:"1",url:"1",name:"1",type:"Info"}],pageNum:o,pageSize:t,totalpageNum:1,total:2})}}}],Je=[...ze,...Ye];function Xe(e){const t=decodeURIComponent(e.split("?")[1]).replace(/\+/g," ");if(!t)return{};const o={};return t.split("&").forEach(s=>{const n=s.indexOf("=");if(n!==-1){const i=s.substring(0,n),c=s.substring(n+1,s.length);o[i]=c.length?isNaN(Number(c))?c:Number(c):c}}),o}const Qe={VITE_MOCK:"true",VITE_MOCK_BASE_URL:"http://localhost:3001/",VITE_BASE_URL:"https://c56814e8d4d1-service.simplelab.cn/api",VITE_BASE_URL_AUTH:"https://c56814e8d4d1-service.simplelab.cn/auth/api/",VITE_TIMEOUT:"10000",VITE_OUTPUT_DIR:"dist",BASE_URL:"/pages/",MODE:"production",DEV:!1,PROD:!0};function Ze(){function e(o){return function(r){let s=null;if(o instanceof Function){let{body:n,type:i,url:c}=r;s=o({body:typeof n=="string"?JSON.parse(n):n,method:i,query:Xe(c)})}else s=o;return s}}let t;for(t of Je)$.exports.mock(new RegExp(Qe.VITE_MOCK_BASE_URL+t.url),t.type||"get",e(t.response))}Ze();const z=()=>{const e=window.innerWidth;document.getElementsByTagName("html")[0].style.fontSize=e/1920*16+"px"};z();window.onresize=z;let x=le(_e);x.mixin({methods:{navTo(e,t){h.push({path:e,query:t})}},computed:{themeColor(){return m.getters.getThemeColor}}});x.use(h).use(m).use(pe).mount("#app");x.config.globalProperties.$defaultData=b;x.config.globalProperties.$debounce=je;x.config.globalProperties.$throttle=Ke;export{g as _,ot as g};
